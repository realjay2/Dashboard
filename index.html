<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Hybrid Dash</title>
<link rel="icon" href="https://cdn.discordapp.com/emojis/1407882144281264270.webp?size=96" type="image/webp">
<style>
:root{
  --bg:#0e141b;
  --panel:#141c24;
  --panel-2:#111822;
  --muted:#8aa0b6;
  --text:#e8f0fb;
  --primary:#3b82f6;
  --primary-2:#2563eb;
  --accent:#60a5fa;
  --ok:#78e08f;
  --warn:#fbbf24;
  --danger:#ef4444;
  --shadow:0 6px 20px rgba(0,0,0,.35) inset, 0 0 0 1px rgba(255,255,255,.03) inset;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:radial-gradient(1200px 800px at 20% -10%, #1a2431 0%, transparent 55%), var(--bg);
  color:var(--text);
  font:500 16px/1.4 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  letter-spacing:.2px;
}
.app{display:grid; grid-template-columns:260px 1fr; min-height:100vh}
.sidebar{
  background:linear-gradient(180deg, #111a25 0%, #0d141c 100%);
  padding:18px 14px; position:sticky; top:0; height:100vh; border-right:1px solid rgba(255,255,255,.04);
}
.brand{font-weight:800; letter-spacing:1px; margin:6px 10px 18px; font-size:22px; opacity:.95}
.nav{display:flex; flex-direction:column; gap:10px; margin-top:6px}
.nav a{
  text-decoration:none; color:var(--text); opacity:.9;
  padding:12px 14px; border-radius:10px; display:flex; align-items:center; gap:10px;
  background:transparent; border:1px solid transparent;
  cursor:pointer;
}
.nav a:hover{background:rgba(255,255,255,.04)}
.nav a.active{background:rgba(59,130,246,.18); border-color:rgba(59,130,246,.35)}
.nav svg{width:18px; height:18px; opacity:.9}

.main{padding:34px 36px 44px}
.header h1{margin:0 0 8px; font-size:38px; font-weight:800}
.sub{color:var(--muted); margin-bottom:22px}

.grid{display:grid; grid-template-columns: 1.2fr 1.2fr 1fr; gap:24px; align-items:start;}
.row{display:grid; grid-template-columns:1fr 1fr; gap:24px}

.card{background:linear-gradient(180deg, var(--panel) 0%, var(--panel-2) 100%); border-radius:14px; padding:22px; box-shadow:var(--shadow);}
.card h3{margin:0 0 14px; font-size:20px}
.muted{color:var(--muted)}

.skeleton{height:10px; background:linear-gradient(90deg, rgba(255,255,255,.06), rgba(255,255,255,.03)); border-radius:8px; margin:14px 0}
.skeleton.wide{width:72%}
.skeleton.med{width:60%}
.skeleton.short{width:45%}

.btn{appearance:none; border:0; cursor:pointer; font-weight:700; color:white; padding:14px 16px; border-radius:10px; width:100%; background:linear-gradient(180deg, var(--primary) 0%, var(--primary-2) 100%); box-shadow:0 8px 22px rgba(59,130,246,.25), 0 0 0 1px rgba(255,255,255,.08) inset;}
.btn.secondary{background:linear-gradient(180deg, #2e3c51, #2a3447)}
.btn + .btn{margin-top:14px}
.btn .rowi{display:inline-flex; align-items:center; gap:10px; justify-content:center}

.offer{display:flex; align-items:center; justify-content:space-between; padding:10px 12px; border-radius:10px; background:rgba(255,255,255,.04); margin-top:10px}
.badge{font-size:12px; padding:6px 10px; border-radius:999px; background:rgba(59,130,246,.18); color:#cfe1ff; border:1px solid rgba(59,130,246,.35)}

.bullets{margin-top:10px}
.dot{width:8px; height:8px; border-radius:50%; background:#5aa2ff; display:inline-block; margin-right:10px}

.stats{margin-top:8px}
.stat{display:flex; align-items:center; justify-content:space-between; padding:12px 0; border-bottom:1px dashed rgba(255,255,255,.06)}
.stat:last-child{border-bottom:0}
.stat .k{color:var(--muted)}
.stat .v{font-weight:800}
.v.ok{color:var(--ok)}
.v.warn{color:var(--warn)}
.v.bad{color:var(--danger)}

.discord-linker{margin-top:20px}

.tab-section{display:none}
.tab-section.active{display:block}

@media (max-width:1100px){
  .grid{grid-template-columns:1fr;}
  .row{grid-template-columns:1fr}
  .app{grid-template-columns: 1fr}
  .sidebar{position:relative; height:auto; border-right:0}
}
</style>
</head>
<body>
<script>
const BACKEND_URL = 'https://backend-domain.com';
</script>

<aside class="sidebar">
  <div class="brand" style="display:flex; align-items:center; gap:10px;">
    <img src="https://cdn.discordapp.com/emojis/1407882144281264270.webp?size=96" alt="Hybrid Logo" style="width:32px; height:32px;">
    <span>Hybrid Dash</span>
  </div>
  <nav class="nav">
    <a class="active" data-tab="home"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 3l9 8h-3v9h-5v-6H11v6H6v-9H3z"/></svg><span>Home</span></a>
    <a data-tab="roster"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 12a5 5 0 110-10 5 5 0 010 10zm-9 9a9 9 0 1118 0H3z"/></svg><span>Roster</span></a>
    <a data-tab="teams"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M3 6h18v4H3V6zm0 6h18v6H3v-6z"/></svg><span>Teams</span></a>
    <a data-tab="stats"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M4 19h16v2H4v-2zM5 3h2v12H5V3zm6 4h2v8h-2V7zm6 6h2v2h-2v-2z"/></svg><span>Stats</span></a>
    <a data-tab="discord"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg><span>Discord</span></a>
  </nav>
</aside>


  <main class="main">
    <section id="home" class="tab-section active">
      <header class="header">
        <h1>Welcome Back</h1>
        <div class="sub">Here's an overview of your sports management dashboard</div>
      </header>
      <section class="grid">
        <div class="row">
          <div class="card">
            <h3>Overview</h3>
            <div class="skeleton wide"></div>
            <div class="skeleton med"></div>
            <div class="skeleton short"></div>
          </div>

          <div class="card">
            <h3>Manage Team</h3>
            <div class="muted" style="margin-bottom:14px">Add or remove players from your roster</div>
            <button class="btn"><span class="rowi">Add Player</span></button>
            <button class="btn secondary"><span class="rowi">Remove Player</span></button>
          </div>
        </div>

        <div class="row">
          <div class="card">
            <h3>Activity</h3>
            <div class="bullets">
              <div><span class="dot"></span><span class="skeleton med" style="width:55%"></span></div>
              <div><span class="dot"></span><span class="skeleton med" style="width:68%"></span></div>
              <div><span class="dot"></span><span class="skeleton med" style="width:40%"></span></div>
            </div>
          </div>

          <div class="card">
            <h3>Activity</h3>
            <div class="bullets">
              <div><span class="dot"></span><span class="skeleton med" style="width:52%"></span></div>
              <div><span class="dot"></span><span class="skeleton med" style="width:64%"></span></div>
              <div><span class="dot"></span><span class="skeleton med" style="width:36%"></span></div>
            </div>
          </div>
        </div>

        <div class="card">
          <h3>Player Offers</h3>
          <div class="muted" style="margin-bottom:10px">Pending offers and negotiations</div>
          <div id="player-offers"></div>
        </div>

        <div class="card" style="grid-column:3">
          <h3>Quick Stats</h3>
          <div class="muted">Team performance overview</div>
          <div class="stats" id="live-stats"></div>
        </div>
      </section>
    </section>

    <section id="roster" class="tab-section">
      <h1>Roster</h1>
      <p>Roster details will be displayed here.</p>
    </section>

    <section id="teams" class="tab-section">
      <h1>Teams</h1>
      <p>Team details will be displayed here.</p>
    </section>

    <section id="stats" class="tab-section">
      <h1>Stats</h1>
      <p>More in-depth statistics will be displayed here.</p>
    </section>

    <section id="discord" class="tab-section">
      <h1>Connect Discord</h1>
      <div class="card" style="max-width:400px; margin-top:10px;">
        <div class="discord-linker" id="discord-linker">
          <button>Loading...</button>
        </div>
      </div>
    </section>
  </main>
</div>

<script>
const navLinks = document.querySelectorAll('.nav a');
const tabs = document.querySelectorAll('.tab-section');
navLinks.forEach(link => {
  link.addEventListener('click', () => {
    navLinks.forEach(l => l.classList.remove('active'));
    link.classList.add('active');
    tabs.forEach(tab => {
      tab.classList.remove('active');
      if(tab.id === link.getAttribute('data-tab')){
        tab.classList.add('active');
      }
    });
  });
});

function loadStats(){
  const stats = document.getElementById('live-stats');
  stats.innerHTML = `
    <div class="stat"><span class="k">Games Played</span><span class="v">0</span></div>
    <div class="stat"><span class="k">Wins</span><span class="v ok">0</span></div>
    <div class="stat"><span class="k">Losses</span><span class="v bad">0</span></div>
    <div class="stat"><span class="k">Win Rate</span><span class="v warn">0%</span></div>
  `;
}

function loadPlayerOffers(){
  const offers = document.getElementById('player-offers');
  offers.innerHTML = `<div class="offer"><span>Example Player</span><span class="badge">Pending</span></div>`;
}

loadStats();
loadPlayerOffers();

async function loadDiscordUser(){
  try{
    const res = await fetch(`${BACKEND_URL}/auth/user`, { credentials:'include' });
    const user = await res.json();
    const linker = document.getElementById('discord-linker');
    linker.innerHTML = '';
    if(user.loggedIn){
      linker.innerHTML = `
        <div style="display:flex; align-items:center; gap:14px;">
          <img src="${user.avatarURL}" style="width:50px; height:50px; border-radius:50%;"/>
          <div>
            <div style="font-weight:700;">${user.username}#${user.discriminator}</div>
            <button id="logout-btn" style="margin-top:8px; padding:8px 12px; border:none; border-radius:8px; background:var(--primary); color:white; cursor:pointer;">Logout</button>
          </div>
        </div>
      `;
      document.getElementById('logout-btn').onclick = () => window.location.href = `${BACKEND_URL}/logout`;
    }else{
      linker.innerHTML = `<button style="width:100%; padding:12px; border:none; border-radius:10px; background:var(--primary); color:white; font-weight:700; cursor:pointer;">Login with Discord</button>`;
      linker.querySelector('button').onclick = () => window.location.href = `${BACKEND_URL}/auth/discord`;
    }
  }catch(err){
    console.error(err);
    document.getElementById('discord-linker').innerHTML = `<div style="color:red;">Failed to load Discord user</div>`;
  }
}

loadDiscordUser();
</script>
</body>
</html>
